{% extends 'base.html' %}

{% block content %}
<h1 class="text-2xl font-bold">Dashboard do Nutricionista</h1>
<p>Bem-vindo ao seu painel de controle.</p>

<h2 class="text-xl font-bold mt-8">Meus Pacientes</h2>

<form hx-get="{% url 'users:dashboard' %}" hx-target="#patient-list-container" hx-swap="outerHTML">
    <input type="search" name="search" placeholder="Buscar pacientes..." value="{{ search_query|default:'' }}">
    <button type="submit">Buscar</button>
</form>

<div id="patient-list-container">
    {% include '_patient_list.html' %}
</div>

<h2 class="text-xl font-bold mt-8">Notificações</h2>
<div id="unread-notifications-container" hx-get="{% url 'notification:unread_notifications_htmx' %}" hx-trigger="load, every 30s">
    <p>Carregando notificações...</p>
</div>

{% endblock content %}
